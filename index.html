<!DOCTYPE html>
<html lang="en">

<head>
    <title>Home - Seven.JS</title>
    <style>
        
        .title {
            font: bold 24px Roboto
        }
        .desc {
            font: 18px Roboto
        }
    </style>
</head>

<body>
    <div>
        <div>
            <a href='about.html'><img style="max-height:40px" src='Seven.png'> <span>About</span></a>
            <a href='gettingstarted.html'>Get Started</a>
            <a href='faq.html'>FAQ</a>
        </div>
        <div>
            <h1 class="title">Seven.JS</h1>
            <pre id="banner">
                77777777777777777777777777777777                           777777777777777            7777777777777                    
                77777777777777777777777777777777                           777777777777777          7777777777777777777                
                                           77777                                      7777         7777                                
                                        77777                                         7777        7777                                 
                                      77777                                           7777       7777                                  
                                    77777                                             7777       7777                                  
                                  77777                                               7777       7777                                  
                                  77777                                               7777        7777                                 
                                77777                                                 7777         77777777777777777                   
                                77777                                                 7777          777777777777777777                 
                              77777                                                   7777                         7777                
                              77777                             7777                  7777                         7777                
                             77777                              7777                  7777                        7777                 
                            77777                                7777                7777                        7777                  
                           77777                                 7777               7777                        7777                   
                          77777                      7777         7777             7777                       7777                     
                         77777                      777777         7777777777777777777            77777777777777                       
                        77777                        7777            777777777777777              77777777777777                       
</pre>
            <h2 class="title" id="blurb">The multi-platform, multi-language library that brings good luck</h2>
            <p>
                You're probably familiar with the idea of magic numbers. They are numbers that appear in your code thanks to magic. There are many, many kinds of magic numbers
                <ul id="kindList">
                    <li>natural numbers</li>
                    <li>whole numbers</li>
                    <li>integers</li>
                    <li>the number 7</li>
                    <li>prime numbers</li>
                    <li>the number 7</li>
                    <li>rational numbers</li>
                    <li>irrational numbers</li>
                    <li>transcendental numbers</li>
                    <li>the number 7</li>
                    <li>imaginary numbers</li>
                    <li>complex numbers</li>
                    <li>the number 7</li>
                    <li>negative numbers</li>
                    <li>single-precision floating-point numbers</li>
                    <li>double-precision floating-point numbers</li>
                    <li>the number 7</li>
                    <li>the first 500 digits of pi</li>
                    <li>the number 7</li>
                    <li>machine code</li>
                </ul>

                Some magic numbers make your program run faster, and some make it run slower. Others may cause you to make more typos or make demons fly out of your nose. You may not always know what these numbers do. Too bad. We know the truth. And we're not telling you. Because you cannot handle the truth.
                
                Instead, we made a library full of magic numbers!

            </p>
            <script type="text/javascript">
                let kindList = document.getElementById("kindList").getElementsByTagName("li");
                let kindText = [];
                for (let i = 0; i < kindList.length; i++) {
                    kindText[i] = kindList[i].innerHTML;
                }
                let phase = 0;
                function updateKind() {

                    for (let i = 0; i < kindList.length; i++) {
                        let length = 25 + (Math.sin(phase + i * Math.PI / 12) * 25) + 1;
                        kindList[i].innerHTML = '-'.repeat(length) + kindText[i];
                    }
                    phase += 1/60;
                    window.requestAnimationFrame(updateKind);
                }
                updateKind();

                let blurb = document.getElementById("blurb");
                let blurbText = blurb.innerHTML;
                let blurbTick = 0;
                function updateBlurb() {
                    window.requestAnimationFrame(updateBlurb);
                    blurbTick++;
                    if ((blurbTick % 15) > 0) {
                        return;
                    }
                    if (Math.random() < 1/15) {
                        blurb.innerHTML = blurbText.replace(/t/ig, '7');
                    } else {
                        blurb.innerHTML = blurbText;
                    }
                }
                updateBlurb();


                let banner = document.getElementById("banner");
                let bannerText = banner.innerHTML;
                let lines = bannerText.split('\n');
                let height = lines.length;
                let width = lines[0].length;
                let bannerTextLength = bannerText.length;
                console.log(bannerText.length);
                console.log(width);
                console.log(height);
                let particles = [];
                function Particle(xPos, yPos, xVel) {
                    this.xPos = xPos;
                    this.yPos = yPos;
                    this.xVel = xVel;
                    this.active = true;
                    this.update = () => {
                        this.xPos += this.xVel / 30;
                        this.xVel -= Math.sign(this.xVel);
                        this.active = Math.abs(this.xVel) > 1 && (this.yPos * width + this.xPos) < bannerTextLength;
                    }
                }
                function updateBanner() {
                    particles.forEach(p => p.update());
                    particles = particles.filter(p => p.active);
                    var limit = Math.min(255, particles.length + 5);
                    for (let i = particles.length; i < limit; i++) {
                        var left = Math.random() < 0.5;
                        var speed = Math.random() * 45 + 30;
                        particles.push(new Particle(left ? 0 : width - 1, Math.floor(Math.random() * height), left ? speed : -speed))
                    }
                    let charArray = lines.map(line => line.split(''));
                    for (let i = 0; i < particles.length; i++) {
                        let p = particles[i];
                        charArray[p.yPos][Math.floor(p.xPos)] = '7';
                    }
                    banner.innerHTML = charArray.slice(0, height - 1).map(line => line.join('')).join('\n');
                    window.requestAnimationFrame(updateBanner);
                }
                updateBanner();


            </script>
        </div>
    </div>
</body>